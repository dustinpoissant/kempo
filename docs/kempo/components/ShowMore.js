import LazyComponent from"./LazyComponent.js";import"./Icon.js";import{onEvent,offEvent,dispatchEvent}from"../utils/element.js";const toggleClickHandler=Symbol();export default class ShowMore extends LazyComponent{constructor(){super(),this[toggleClickHandler]=()=>this.toggle(),this.registerAttribute("opened",!1)}async render(e){await super.render(e),onEvent(this.shadowRoot.getElementById("toggle"),"click",this[toggleClickHandler])}disconnectedCallback(){super.disconnectedCallback(),offEvent(this.shadowRoot.getElementById("toggle"),"click",this[toggleClickHandler])}attributeChangedCallback(e,n,t){super.attributeChangedCallback(e,n,t),"opened"===e&&n!==t&&(this.opened?dispatchEvent(this,"change opened"):dispatchEvent(this,"change closed"))}more(){this.opened=!0}less(){this.opened=!1}toggle(){this.opened=!this.opened}get shadowTemplate(){return`\n      <div id="wrapper">\n        <div id="content">\n          ${super.shadowTemplate}\n        </div>\n        <button\n          id="toggle"\n          class="no-btn"\n        >\n          <span id="more">\n            <slot name="more">Show More <k-icon name="arrow-down-double"></k-icon></slot>\n          </span>\n          <span id="less">\n            <slot name="less">Show Less <k-icon name="arrow-up-double"></k-icon></slot>\n          </span>\n        </button>\n      </div>\n    `}get shadowStyles(){return`\n      ${super.shadowStyles}\n      :host {\n        --closed_height: 7rem;\n        \n        display: block;\n      }\n      :host(:not([opened])) #content{\n        height: var(--closed_height);\n        overflow-y: hidden;\n      }\n      :host(:not([opened])) #content {\n        margin-bottom: calc(var(--closed_height) * -0.9);\n      }\n      :host(:not([opened]))  #toggle {\n        padding-top: calc(var(--closed_height) - 2rem);\n        background: linear-gradient(to bottom, transparent 0%, var(--c_bg) 95%);\n      }\n      #toggle {\n        width: 100%;\n        padding: var(--spacer_h);\n        text-align: center;\n        background: var(--c_bg);\n      }\n      :host([opened]) #more,\n      :host(:not([opened])) #less {\n        display: none;\n      }\n    `}}window.customElements.define("k-show-more",ShowMore);