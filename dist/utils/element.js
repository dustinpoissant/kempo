import waitFrames from"./waitFrames.js";export const onEvent=(e,t,n,o=document)=>{e instanceof EventTarget?t.toLowerCase().split(" ").forEach((t=>{e.addEventListener(t,n)})):e instanceof NodeList||e instanceof Array?e.forEach((e=>onEvent(e,t,n))):"string"==typeof e&&o.querySelectorAll(e).forEach((e=>onEvent(e,t,n)))};export const offEvent=(e,t,n,o=document)=>{e instanceof EventTarget?t.toLowerCase().split(" ").forEach((t=>{e.removeEventListener(t,n)})):e instanceof NodeList||e instanceof Array?e.forEach((e=>offEvent(e,t,n))):"string"==typeof e&&o.querySelectorAll(e).forEach((e=>offEvent(e,t,n)))};export const dispatchEvent=(e,t,n,{scope:o=document,bubbles:i=!1}={})=>{e instanceof EventTarget?t.toLowerCase().split(" ").forEach((t=>{e.dispatchEvent(new CustomEvent(t,{bubbles:i,detail:n}))})):e instanceof NodeList||e instanceof Array?e.forEach((e=>dispatchEvent(e,t,n,{scope:o,bubbles:i}))):"string"==typeof e&&o.querySelectorAll(e).forEach((e=>dispatchEvent(e,t,n,{scope:o,bubbles:i})))};export const isInView=async e=>{await waitFrames(2);const t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth;if(t.bottom<0||t.top>n||t.right<0||t.left>o)return!1;for(;e;){const t=getComputedStyle(e);if("none"===t.display||"hidden"===t.visibility)return!1;e=e.parentElement}return!0};export const firstFocusable=e=>e.querySelector('a[href]:not([disabled]), button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])');export const setProp=(e,t,n,o=document)=>{e instanceof HTMLElement?e[t]=n:e instanceof NodeList||e instanceof Array?[...e].forEach((e=>dispatchEvent(e,t,n))):"string"==typeof e&&dispatchEvent(o.querySelectorAll(e),t,n)};export default{onEvent:onEvent,offEvent:offEvent,dispatchEvent:dispatchEvent,isInView:isInView,firstFocusable:firstFocusable,setProp:setProp};